{"file":"/Users/qidanta/Documents/webprojects/webpack-eliminate-loader/src/presets/factory.ts","mappings":";;AACA,6CAA2C;AAC3C,uCAAqC;AAExB,QAAA,aAAa,GAAG;IAC3B,MAAM,EAAN,UAAO,MAAc;QACnB,OAAO;YACL,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,MAAM,EAAE;gBACN,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,EAAE,CAAA;YAClC,CAAC;YACD,OAAO,EAAE,UAAC,YAAoB,EAAE,OAAgB;gBAC9C,IAAI,MAAM,CAAC,OAAO,EAAE;oBAClB,mBAAQ,CAAC,CAAC,CAAC,OAAO,MAAM,CAAC,OAAO,KAAK,UAAU,EAAE,mCAAmC,CAAC,CAAC,CAAC,CAAA;oBACvF,OAAO,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC,CAAA;iBAC7C;gBACD,OAAO,aAAK,CAAC,YAAY,EAAE,OAAO,CAAC,CAAA;YACrC,CAAC;YACD,QAAQ,EAAE,UAAA,MAAM;gBACd,IAAI,MAAM,CAAC,QAAQ,EAAE;oBACnB,mBAAQ,CAAC,CAAC,CAAC,OAAO,MAAM,CAAC,QAAQ,KAAK,UAAU,EAAE,oCAAoC,CAAC,CAAC,CAAC,CAAA;oBACzF,OAAO,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;iBAC/B;gBACD,OAAO,MAAM,CAAA;YACf,CAAC;SACF,CAAA;IACH,CAAC;CACF,CAAA","names":[],"sources":["/Users/qidanta/Documents/webprojects/webpack-eliminate-loader/src/presets/factory.ts"],"sourcesContent":["import { Preset, Options } from '@/typings'\nimport { validate } from '@/utils/validate'\nimport { match } from '@/utils/match'\n\nexport const presetFactory = {\n  create(preset: Preset): Required<Preset> {\n    return {\n      name: preset.name,\n      onInit: () => {\n        preset.onInit && preset.onInit()\n      },\n      onMatch: (resourcePath: string, options: Options) => {\n        if (preset.onMatch) {\n          validate([[typeof preset.onMatch !== 'function', 'preset.onMatch should be function']])\n          return preset.onMatch(resourcePath, options)\n        }\n        return match(resourcePath, options)\n      },\n      onReturn: source => {\n        if (preset.onReturn) {\n          validate([[typeof preset.onReturn !== 'function', 'preset.onReturn should be function']])\n          return preset.onReturn(source)\n        }\n        return source\n      },\n    }\n  },\n}\n"],"version":3}