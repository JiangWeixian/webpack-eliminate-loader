{"file":"/Users/qidanta/Documents/webprojects/webpack-eliminate-loader/src/presets/umi-rematch.ts","mappings":";;;AAAA,gEAAiC;AAEjC,2CAAyC;AAEzC,uCAAqC;AAErC,IAAI,GAAG,GAAG,EAAE,CAAA;AACZ,IAAM,eAAe,GAAG,CAAC,8BAA8B,CAAC,CAAA;AAExD,IAAM,cAAc,GAAG,UAAC,YAAoB;IAC1C,OAAO,mBAAS,CAAC,YAAY,EAAE,cAAc,CAAC,CAAA;AAChD,CAAC,CAAA;AAEY,QAAA,UAAU,GAAW;IAChC,IAAI,EAAE,aAAa;IACnB,MAAM;QACJ,IAAI,GAAG,EAAE;YACP,OAAM;SACP;QACD,GAAG,GAAG,iBAAO,CAAC,SAAS,CAAC,CAAA;IAC1B,CAAC;IACD,OAAO,EAAE,UAAC,YAAY,EAAE,OAAO;QAC7B,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE;YACjC,OAAO,KAAK,CAAA;SACb;QACD,OAAO,aAAK,CAAC,YAAY,uBACpB,OAAO,IACV,OAAO,EAAE,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,IACxD,CAAA;IACJ,CAAC;IACD,QAAQ,YAAC,MAAM;QACb,OAAO,GAAG,IAAI,MAAM,CAAA;IACtB,CAAC;CACF,CAAA","names":[],"sources":["/Users/qidanta/Documents/webprojects/webpack-eliminate-loader/src/presets/umi-rematch.ts"],"sourcesContent":["import minimatch from 'minimatch'\n\nimport { loadTpl } from '@/utils/loadTpl'\nimport { Preset } from '@/typings'\nimport { match } from '@/utils/match'\n\nlet tpl = ''\nconst defaultIncludes = ['**/src/*?(.tsx|.jsx|.ts|.js)']\n\nconst isRematchModel = (resourcePath: string) => {\n  return minimatch(resourcePath, '**/models/**')\n}\n\nexport const UmiRematch: Preset = {\n  name: 'umi-rematch',\n  onInit() {\n    if (tpl) {\n      return\n    }\n    tpl = loadTpl('rematch')\n  },\n  onMatch: (resourcePath, options) => {\n    if (!isRematchModel(resourcePath)) {\n      return false\n    }\n    return match(resourcePath, {\n      ...options,\n      include: (options.include || []).concat(defaultIncludes),\n    })\n  },\n  onReturn(source) {\n    return tpl || source\n  },\n}\n"],"version":3}